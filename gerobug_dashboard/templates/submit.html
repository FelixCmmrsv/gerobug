<!-- submit.html -->
{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="{% get_current_language %}">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Gerobug-signature" content="97de67b8d672c51c158247f398b85d31">

    <title>{% trans "Submit Bug Report" %}</title>
    <link rel="shortcut icon" href='{% static "favicon.ico" %}' type="image/x-icon">
    <link rel="icon" href='{% static "favicon.ico" %}' type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="{% url 'themes' %}" type="text/css">
    <link rel="stylesheet" href='{% static "/css/header.css" %}'>
    <link rel="stylesheet" href='{% static "/css/submit.css" %}'>

    <!-- BOOTSTRAP CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
            crossorigin="anonymous"></script>
    <script>
        function myFunction() {
            var x = document.getElementById("navbar");
            if (x.className === "topnav") {
                x.className += " responsive";
            } else {
                x.className = "topnav";
            }
        }
    </script>
    <script>
        function copytext(id) {
            var copyText = document.getElementById(id);

            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices

            navigator.clipboard.writeText(copyText.value);

            alert("{% trans 'Copied: ' %}" + "\n" + copyText.value);
        }
    </script>
</head>

<body>
<header>
    <ul class="topnav" id="navbar">
        <li><a class="logo" href="{% url 'rules' %}">
            <div class="nav-content"><img src="{% static 'logo.png' %}"></div>
        </a></li>
        <li><a href="{% url 'rules' %}">
            <div class="nav-content">{% trans "Rules & Guidelines" %}</div>
        </a></li>
        <li><a href="{% url 'halloffame' %}">
            <div class="nav-content">{% trans "Hall Of Fame" %}</div>
        </a></li>
        <li><a class="active" href="{% url 'submit' %}">
            <div class="nav-content">{% trans "Submit" %}</div>
        </a></li>
        <li class="icon"><a href="javascript:void(0);" onclick="myFunction()">
            <div class="nav-content"><i class="fa fa-bars"></i></div>
        </a></li>
    </ul>
</header>

<main>
    <h1>{% trans "How To Submit" %}</h1>
    <p>{{ template|safe }}</p>

    <form action="{% url 'set_language' %}" method="post">
        {% csrf_token %}
        <input name="next" type="hidden" value="{{ request.get_full_path }}">
        <select name="language" onchange="this.form.submit()">
            {% get_current_language as LANGUAGE_CODE %}
            {% get_available_languages as LANGUAGES %}
            {% for lang in LANGUAGES %}
                <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
                    {{ lang.1 }}
                </option>
            {% endfor %}
        </select>
    </form>

    <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item">
            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                        aria-controls="panelsStayOpen-collapseOne">
                    {% trans "Submit Bug Bounty Report" %}
                </button>
            </h2>
            <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                 aria-labelledby="panelsStayOpen-headingOne">
                <div class="accordion-body">
                    <b>{% trans "Subject:" %}</b>
                    <br>
                    <div class="text-wrap">
                        <textarea readonly id="Subject_1" rows="1" cols="40">SUBMIT_Report Title</textarea>
                        <div id="copyToClipboard-a" class="clipboard icon" onclick="copytext('Subject_1')"><i
                                class="fa fa-copy"></i></div>
                    </div>

                    <b>{% trans "Body:" %}</b>
                    <br>
                    <div class="text-wrap">
                        <textarea readonly id="Body_1" rows="3" cols="40">
CUSTOMER= {% trans "Customer 3 digits code" %} (example: BIG. {% trans "To see all available customer codes check the first block" %} - {% trans "Customers List" %})
TYPE= {% trans "Bug Type" %} (example: XSS, SQL Injection, IDOR, etc.)
ENDPOINT= {% trans "Affected Endpoint" %} (example: https://demo.gerobug.com/submit) [max 100 characters]
SUMMARY= {% trans "Summary of your findings" %}</textarea>
                        <div id="copyToClipboard-a" class="clipboard icon" onclick="copytext('Body_1')"><i
                                class="fa fa-copy"></i></div>
                    </div>

                    <b>{% trans "Attachment:" %}</b>
                    <br>
                    {% trans "PDF REPORT FILE" %}
                    (<a href="{% static 'templates/Template_Report.docx' %}">{% trans "Report Template" %}</a>)<br>

                    <br>
                    <b>{% trans "Sample:" %}</b>
                    <br>
                    <img src="{% static 'sample/submit.png' %}" width="35%">
                </div>
            </div>
        </div>

        <!-- Other accordion sections can be similarly updated with translations -->

        <div class="accordion-item">
            <h2 class="accordion-header" id="panelsStayOpen-headingEight">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#panelsStayOpen-collapseEight" aria-expanded="false"
                        aria-controls="panelsStayOpen-collapseEight">
                    {% trans "Customers List" %}
                </button>
            </h2>
            <div id="panelsStayOpen-collapseEight" class="accordion-collapse collapse"
                 aria-labelledby="panelsStayOpen-headingEight">
                <div class="accordion-body">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">{% trans "Code" %}</th>
                                <th scope="col">{% trans "Company Name" %}</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for company in companies %}
                            <tr>
                                <td>{{ company.code }}</td>
                                <td>{{ company.name }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</main>

<footer>
    <div id="copyright">
        <p>RTEAM</p>
    </div>
</footer>

<div style="display:none;">97de67b8d672c51c158247f398b85d31</div>
</body>
</html>

